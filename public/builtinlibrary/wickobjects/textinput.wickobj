{"object":{"classname":"Clip","identifier":"textInput","name":null,"uuid":"eaea6c6f-d733-4951-8434-e556b3337463","children":["23fb82e8-e0f8-419d-b4b4-380882993eb4"],"scripts":[],"cursor":"default","transformation":{"x":348.5,"y":199,"scaleX":1.0085049250246032,"scaleY":1.0314498673551131,"rotation":0,"opacity":1}},"children":[{"classname":"Timeline","identifier":null,"name":null,"uuid":"23fb82e8-e0f8-419d-b4b4-380882993eb4","children":["a4812541-ab54-4899-b589-a40b7d6b2006","1650659a-c7fd-497d-b55a-09cdedd7bb3e"],"playheadPosition":1,"activeLayerIndex":1},{"classname":"Layer","identifier":null,"name":"Layer 2","uuid":"a4812541-ab54-4899-b589-a40b7d6b2006","children":["8c50cfb9-c39e-425d-b326-e8b9cdfcad02"],"locked":false,"hidden":false},{"classname":"Layer","identifier":null,"name":"Layer","uuid":"1650659a-c7fd-497d-b55a-09cdedd7bb3e","children":["bcf6054a-faf7-4882-a130-41c750e34775"],"locked":false,"hidden":false},{"classname":"Frame","identifier":null,"name":null,"uuid":"8c50cfb9-c39e-425d-b326-e8b9cdfcad02","children":["496f3c1f-a661-49f1-9603-a2815bbf567d"],"scripts":[{"name":"default","src":""}],"cursor":"default","start":1,"end":1,"sound":null,"soundVolume":1,"soundLoop":false,"originalLayerIndex":0},{"classname":"Path","identifier":"textStyle","name":null,"uuid":"496f3c1f-a661-49f1-9603-a2815bbf567d","children":[],"json":["PointText",{"applyMatrix":false,"matrix":[1,0,0,1,-111,6],"content":"Type Your Text Here","fontFamily":"sans serif","fontWeight":"400 normal","fontSize":20,"leading":24}],"fontStyle":"normal","fontWeight":400},{"classname":"Frame","identifier":null,"name":null,"uuid":"bcf6054a-faf7-4882-a130-41c750e34775","children":["eba3beaa-72af-4244-877b-103df4ba91e8"],"scripts":[{"name":"default","src":""}],"cursor":"default","start":1,"end":1,"sound":null,"soundVolume":1,"soundLoop":false,"originalLayerIndex":1},{"classname":"Clip","identifier":null,"name":null,"uuid":"eba3beaa-72af-4244-877b-103df4ba91e8","children":["33934b4d-99f2-47ad-927e-47497adb0a0e"],"scripts":[{"name":"default","src":"this.value = \"\";\n\n// Attach this to the absolute position of the PARENT.\nthis.parentClip.getAbsPos = () => {\n    return this.paper.view.projectToView(new this.paper.Point(\n        this.parentClip.view.group.bounds.left,\n        this.parentClip.view.group.bounds.top\n    ));\n}\n\nthis.getAbsSize = () => {\n    return {\n        width: this.parentClip.view.group.bounds.width * this.paper.view.zoom,\n        height: this.parentClip.view.group.bounds.height * this.paper.view.zoom,\n    }\n}\n\nthis.updateDivPosition = () => {\n    var pos = this.parentClip.getAbsPos(); // Connect to parentClip's position.\n    var size = this.getAbsSize();\n    this.div.style.position = 'absolute';\n    this.div.style.left = pos.x + 'px';\n    this.div.style.top = pos.y + 'px';\n    this.div.style.width = size.width + 'px';\n    this.div.style.height = size.height + 'px';\n    this.div.style.backgroundColor = 'rgba(0,0,0,0)';\n}\n\nthis.paper = this.view.paper;\nthis.div = document.createElement('div');\n\nthis.canvasContainer = this.project.view._canvasContainer;\nthis.canvasContainer.appendChild(this.div);\n\n"},{"name":"load","src":"/* TextInput code */\nthis._inputFunction = (val) => {\n    \n}\n\n// Adds an on change event to the text input. This function will be sent the text string\n// within the input.\nthis.setOnChange = (fn) => {\n    this._inputFunction = fn;\n}\n\nthis.parentClip.setOnChange = this.setOnChange;\n\nthis.onInputChange = (value) => {\n    this.value = value;\n    this._inputFunction && this._inputFunction(value);\n}\n\n// Update styling of the div.\nthis.inputElem = document.createElement('input');\nthis.inputElem.style.width = '100%';\nthis.inputElem.style.height = '100%';\n\nthis.inputElem.oninput = (e) => {\n    this.onInputChange(e.target.value)\n}\nthis.div.appendChild(this.inputElem);"},{"name":"update","src":"this.updateDivPosition();\n\n// Update the value of the parent, to distribute values to the rest of the project.\nthis.parentClip.value = this.value;\n\nif (textStyle) {\n    // Pull style from Paper.js\n    let style = textStyle._json[1];\n    textStyle.opacity = 0;\n    if (style) {\n        this.inputElem.style.fontWeight = style.fontWeight + \"\";\n        this.inputElem.style.fontSize = (style.fontSize * this.paper.view.zoom) + \"px\";\n        this.inputElem.style.fontFamily = style.fontFamily;\n        this.inputElem.style.border = 'none';\n        this.inputElem.style.backgroundColor = 'rgba(0,0,0,0)';\n        this.inputElem.placeholder = style.content;\n        this._styleUpdated = true;\n    }\n}"},{"name":"unload","src":"this.canvasContainer.removeChild(this.div);\nthis._styleUpdated = false;\nthis.parentClip.value = this.value;\n\nif (textStyle) {\n    textStyle.opacity = 1;\n}"}],"cursor":"default","transformation":{"x":0,"y":-1.0000000000000036,"scaleX":1,"scaleY":1,"rotation":0,"opacity":1}},{"classname":"Timeline","identifier":null,"name":null,"uuid":"33934b4d-99f2-47ad-927e-47497adb0a0e","children":["649ba2d7-3707-4830-bf0f-915b501d3993"],"playheadPosition":1,"activeLayerIndex":0},{"classname":"Layer","identifier":null,"name":"Layer","uuid":"649ba2d7-3707-4830-bf0f-915b501d3993","children":["9cdc7e4f-45db-43d7-9210-108c3cb45403"],"locked":false,"hidden":false},{"classname":"Frame","identifier":null,"name":null,"uuid":"9cdc7e4f-45db-43d7-9210-108c3cb45403","children":["376f6186-d157-418e-93c6-0ebd47bfa823"],"scripts":[{"name":"default","src":""}],"cursor":"default","start":1,"end":1,"sound":null,"soundVolume":1,"soundLoop":false,"originalLayerIndex":0},{"classname":"Path","identifier":null,"name":null,"uuid":"376f6186-d157-418e-93c6-0ebd47bfa823","children":[],"json":["Path",{"applyMatrix":true,"segments":[[-118.14846,16.77246],[-118.14846,-16.77246],[118.14846,-16.77246],[118.14846,16.77246]],"closed":true,"fillColor":[1,1,1,1],"strokeColor":[0,0,0],"strokeCap":"round"}],"fontStyle":"normal","fontWeight":400}],"assets":[]}